---
import { Image } from "astro:assets";
import hero1 from "/src/assets/images/hero.svg";
import hero2 from "/src/assets/images/hero-2.svg";
import hero3 from "/src/assets/images/hero-3.svg";
---

<section
  id="home"
  class="
    pt-16
    relative
    sm:min-h-screen
    bg-gradient-to-br from-blue-600 to-indigo-700
    text-white
  "
>
  <!-- BACKGROUND SLIDER -->
  <div
    id="bg-slider"
    class="flex w-full sm:absolute sm:inset-0 transition-transform duration-700"
  >
    <Image
      src={hero1}
      alt="Banner utama SMK Nusantara"
      class="w-full flex-shrink-0 h-auto sm:min-h-screen object-contain sm:object-cover"
      loading="eager"
      fetchpriority="high"
    />

    <Image
      src={hero2}
      alt="SPMB SMK NUSANTARA"
      aria-hidden="true"
      loading="lazy"
      class="w-full flex-shrink-0 sm:min-h-screen object-cover"
    />

    <Image
      src={hero3}
      alt="Cara Mendaftar SMK Nusantara"
      aria-hidden="true"
      loading="lazy"
      class="w-full flex-shrink-0 sm:min-h-screen object-cover"
    />

  </div>

  <!-- OVERLAY PROFESIONAL -->
  <!-- <div class="absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-black/20"></div> -->

  <!-- CONTENT -->
  <!-- <div class="relative z-10 max-w-7xl mt-10 mx-auto px-6">
    <div class="sm:w-1/2">

      <h1 class="text-3xl md:text-6xl font-extrabold leading-tight mb-6">
        SMK NUSANTARA
      </h1>

      <p class="text-sm md:text-lg leading-relaxed text-white/90 mb-6">
        Sekolah Menengah Kejuruan Pusat Keunggulan (SMK PK) pertama
        di wilayah Korwil Bojong Gede, tersertifikasi dan berkomitmen
        mencetak lulusan unggul, berkarakter, serta siap menghadapi
        dunia kerja dan industri.
      </p>

      <div class="flex flex-wrap gap-4 mt-8">
        <a
          href="#kontak"
          class="inline-flex items-center justify-center px-8 py-4
                 bg-yellow-400 text-gray-900 font-semibold rounded-full
                 hover:bg-yellow-300 transition"
        >
          Daftar Sekarang
        </a>

        <a
          href="#profil"
          class="sm:inline-flex hidden items-center justify-center px-8 py-4
                 border border-white/40 rounded-full
                 text-white hover:bg-white/10 transition"
        >
          Profil Sekolah
        </a>
      </div>
    </div>
  </div> -->

  <!-- BULLET -->
  <div
    class="absolute bottom-2 sm:bottom-8 left-1/2 -translate-x-1/2 flex gap-3 z-20"
    role="tablist"
    aria-label="Hero slider navigation"
  >
    <button
      class="dot w-2.5 h-2.5 rounded-full bg-white"
      aria-label="Slide 1"
      role="tab"
    ></button>
    <button
      class="dot w-2.5 h-2.5 rounded-full bg-white/40"
      aria-label="Slide 2"
      role="tab"
    ></button>
    <button
      class="dot w-2.5 h-2.5 rounded-full bg-white/40"
      aria-label="Slide 3"
      role="tab"
    ></button>
  </div>

</section>

<script>
  const slider = document.getElementById("bg-slider") as HTMLElement;
  const dots = document.querySelectorAll<HTMLElement>(".dot");
  let index: number = 0;

  function showSlide(i: number): void {
    slider.style.transform = `translateX(-${i * 100}%)`;
    dots.forEach((dot: HTMLElement, idx: number) => {
      dot.classList.toggle("bg-white", idx === i);
      dot.classList.toggle("bg-white/40", idx !== i);
    });
  }

  dots.forEach((dot: HTMLElement, i: number) => {
    dot.addEventListener("click", () => {
      index = i;
      showSlide(index);
    });
  });

  setInterval((): void => {
    index = (index + 1) % dots.length;
    showSlide(index);
  }, 6000);

  showSlide(0);
</script>
